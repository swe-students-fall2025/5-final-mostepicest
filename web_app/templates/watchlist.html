{% extends "base.html" %}
{% block title %}Watchlist • PolyPaper{% endblock %}

{% block content %}

<div class="page-section">
  <section class="page-header">
    <h1 class="page-title">Watchlist</h1>
    <p class="page-subtitle">
      Markets you’re keeping an eye on.
    </p>
  </section>

{% if markets %}
<section class="markets-grid">
  {% for m in markets %}
  <article class="card market-card">
    <div class="card-header">
      <div class="card-title">{{ m.question }}</div>
      <div class="card-subtitle">
        {{ m.category }} • {{ m.region }}
      </div>
    </div>

    <div class="card-main">
      <div class="market-prices">
        <span class="value-chip positive">
          Yes {{ "%.0f"|format(m.yes_price * 100) }}%
        </span>
        <span class="value-chip negative">
          No {{ "%.0f"|format((1 - m.yes_price) * 100) }}%
        </span>
      </div>
    </div>

    <div class="card-actions">
      <a class="btn-outline" href="{{ url_for('market_detail', market_id=m.id) }}">
        Open market
      </a>
      <button class="btn-ghost" type="button" disabled>
        ★ On watchlist
      </button>
    </div>
  </article>
  {% endfor %}
</section>
{% else %}
<div class="empty-state">
  <p>No markets in your watchlist yet.</p>
  <p class="hint">Browse markets and add the ones you want to follow.</p>
</div>
{% endif %}

{% endblock %}